---
title: AWS 용어 정리
date: 2019-12-03 19:37:57
tags: [AWS]
categories:
 - [aws]
---
# 컴퓨팅
- 람다(Lambda)
    - 람다에서 실행하는 코드는 람다함수로 업로드됨. 각 함수에는 이름과 설명, 진입점, 리소스 요구 사항등 연관된 구성 정보가 포함되어 있다.
    - 람다함수의 상태가 비저장이어야 하는 이유는 함수를 상태 비저장으로 유지하면 AWS Lambda에서 필요한 만큼 함수 사본을 빠르게 시작하여 수신 이벤트 비율에 따라 조정
    - 람다의 프로그래밍 모델은 상태 비저장이지만 코드에서 S3, DynamoDB 등 다른 웹 서비스를 호출하면 상태 저장 데이터에 액세스 할 수 있다.
    - 함다함수 코드 제한
        - 인바운드 네트워크 연결
        - 아웃바운드 TCP/IP 및 UDP/IP 소켓만 지원
        - TCP 포트 25 트래픽도 스팸 방지 조치로 차단.
    - 모니터링
        - 사용자 대신 함수를 모니터링하여 총 요청수, 계정 수준 및 함수 수준 동시성 사요, 지연시간, 오류 비율, 제한된 요청 등을 비롯한 실시간 지표를 Amazon CloudWatch를 통해 보고한다.
    - CloudWatch 경보 응답
        - 먼저 Amazon SNS 알림에 전송할 경보를 구성. 그런 다음 AWS lambda 콘솔에서 lambda함수를 ㅅ건택하여 Amazon SNS 주제와 연결. 
    - 어플리케이션에서 직접 람다를 트리거 하려면 AWS lambda invoke API를 통해 커스텀 이벤트로 Lambda 함수를 호출
    - HTTPS 통해 Lambda 호출
        - Api Gateway를 사용해 커스텀 RESTFull API를 정의해 HTTPS통해 Lambda함수 호출
    - 데드레터큐
        - SQS 대기열 또는 SNS 주제를 데드레터큐로 구성 할 수 있다.
# 스토리지
## 온프레미스 환경과 AWS 클라우드간 서비스
- S3
    - 객체 스토리지로서 가용성이 높으며 무제한 확장 가능한 데이터 스토리지 서비스
    - 성능 
        - 저장할 수 있는 데이터의 전체 볼륨과 객체수에는 제한이 없다.
        - 객체의 크기는 최소 0바이트 부터 최대 5테라바이트까지 지원.
        - 단일 PUT업로드 가능 객체 최대 크기는 5기가바이트
        - 객체의 크기가 100메가바이트 이상인 경우 멀티파트 업로드 기능 사용가능.
    - 가용성
        - Standard : 99.99
        - One zone-IA : 99.5
        - Glacier, Deep Archive : 99.99
    - 저장
        - Standard,Standard-IA,Glacier는 AWS 리전 내에 각기 지리적으로 분리된 최소 3개의 가용영역에 걸쳐 여러 디바이스에 자동 저장.
        - One zone-IA는 사용자가 선택한 AWS리전의 단일 가용 영역에 중복 저장
    - 비용
        - 같은 리전에 있는 EC2와 S3간에 데이터를 전송한경우 데이터 전송 요금이 청구되지 않는다.
        - S3에서 데이터 수신요금은 버킷에 전송된 데이터의 양을 나타냄
        - 송신 시 요금은 특정 S3지역 이외의 지역에 있는 버킷에서 데이터를 읽어올때 요금부과. 특정 지역에서 인터넷으로 송신된 EC2, S3, RDS, simpleDB, SQS, SNS, VPC 전체 데이터 송신량을 합산한 것.
        - 다른 AWS 계정에서 내 S3버킷에 액세스 하는 경우 일반 요금이 나오고 요청자 지불 버킷으로 구성하여 요청자가 비용을 내게 할 수 있다.
    - 보안
        - 버킷정책, 엑세스제어목록, IAM, 쿼리문자열 인증 같은 제어 메커니즘 제공
        - 추가 보안은 서버측 암호화 옵션을 사용하여 저장데이터 암호화
        - SSE-S3 : 키 관리 및 키보호를 처리하는 통합 솔루션. 아마존에서 키관리
        - SSE-C : 자체 암호화키를 유지 관리하고 싶지만 클라이언트 측 암호화 라이브러리를 구현하거나 활용하고 싶지 않은 경우에 사용
        - SSEーKMS : S3와 비슷하지만, 감사추적을 제공
        - Amazon S3 Encryption Client : 암호화 클라이언트 라이브러리를 사용하여 키에대한 제어 권한을 유지할 수 있으며 워하는 암호화 라이브러리를 사용하여 클라이언트측 객체 암호화 및 암호 해독을 완료.
    - Macie 
        - S3에 저장된 민감한 데이터를 자동 검색 분류 및 보호하는 AI기반 보안 서비스
    - 액세스 포인트
        - 수백개의 버킷정책의 복잡성으로 인해 생김. 특정 ARN 리소스에서만 버킷에 접근이 가능하도록 만든다. 
        - S3 콘솔 및 CLI를 통해 액세스 포인트 정책을 편집할 뿐 아니라 액세스 포인트를 추가하고 보고 삭제할 수 있습니다. CloudFormation 템플릿을 사용하여 액세스 포인트를 시작할 수도 있습니다. AWS CloudTrail 로그를 통해 "액세스 포인트 생성" 및 "액세스 포인트 삭제"와 같은 액세스 포인트 작업을 모니터링하고 감사할 수 있다.
- S3 Intelligent Tiering
    - 알수없는 패턴 또는 알아보기 어려운 변화하는 액세스 패턴이 있는 데이터를 위한 클래스
    - 저장 
        - 30일 연속으로 액세스 되지 않은 객체를, 자주 액세스하지 않는 계층으로 이동하는 방식으로 작동한다. 이후에 다시 액세스하면 빈번한 액세스 계층으로 이동.
        - 최소 객체 크기는 없지만, 128키로바이트보다 작은 객체는 자동 계층화에 접합하지 않으며 항상 빈번한 액세스 계층 요금으로 저장
        - 한번에 다양한 객체를 여러가지 클래스에 저장할 수 있다.
- S3 IA
    - 액세스 빈도가 낮지만 빠르게 액세스 해야하는 데이터를위한 스토리지 클래스
    - 용도
        - 백업용, 장기 스토리지, 재해 복구용, 이전 동기화 공유 스토리지
    - 성능
        - 스탠다드, One zone-IA 동일한 성능
    - 저장
        - x-amz-storage-class 에 STANDARD_IA지정 또는 S3에서 IA로 변경
    - 비용
        - 저장된지 30일이내의 데이터를 삭제를 하면 한달만큼의 요금이 결제 된다.
- S3 One zone-IA
- S3 Glacier
- S3 Glacier Deep archive
    
- Amazon S3 Transfer Acceleration
- S3 CloudWatch 지표

- EBS
    - EC2 인스턴스 종료 시 데이터 
        - 로컬 인스턴스 스토어에 저장된 데이터는 인스턴스가 활성화되어 있는 동안만 지속되는 것과 달리, EBS볼륨에 저장된 데이터는 인스턴스 수명과 별도로 지속될 수 있다. 따라서 로컬 인스턴스 스토어는 임시 데이터만 사용하는 것이 좋다. 더 높은 내구성을 원한다면 EBS 볼륨을 사용하거나 S3에 백업.
    - 성능
        - EBS 프로비저닝 IOPS(SSD) 기대 성능 지연시간 : 10 밀리쵸 미만
        - I/O 크기에따라 IOPS 속도에 영향이 있다.
        - I/O 크기가 증가 할 떄마다동일한 IOPS 속도를 달성하는데 필요한 리소스는 선형적으로 증가한다.
        - 성능일관성을 가지려면 EBS 대기열에도 충분한 요청수가 있어야 한다. 보통 1000iops당 1수준으로 유지되어야 적당한편이라고 함.
        - I/O 크기가 HDD 지원 볼륨에서 제공하는 처리량 속도에 영향을 주는데
        HDD지원 볼륨은 1메가바이트의 I/O크기로 읽기 쓰기를 처리한다.
        순차적 I/O는 1MB단위로 병합되어 처리하는 반면 비순차적 I/O는 실제 I/O크기가 1MB 작더라도 1MB로 처리한다.
        - 따라서 HDD 성능 일관성에 영향을 줄수있는 요인
            - 순차적I/O 와 비순차적 I/O 작업간 균형
            - 인스턴스 종류
            - 스냅샷 생성 (스냅샷이 완료될때까지 기대 쓰기 성능을 기준 속도까지 낮춤 -> st1, sc1 에 한함)
            - 충분치 않은 대기열 HDD의 경우 기준 대기열이 4이상이여야함
    - 스냅샷
        - 스냅샷은 볼륨이 연결되어 사용되고 있는 중에도 실시간으로 실행 할 수 있다.
        - 단 스냅샷은 EBS 볼륨에 기록된 데이터만 갭처 할 수 있으므로 사용자의 어플리케이션 또는 OS를 사용해 로컬로 캐싱한 데이터는 제외 될 수 있다.
        (루트 디바이스로 사용되는 볼륨은 시스템을 종료하고 하는것이 좋다.)
    - 암호화
        - EBS 데이터 볼륨 , 부팅 볼륨 및 스냅샷에 대한 원할한 암호화를 제공하므로, 보안키 관리 인프라를 구축할 필요가 없다. 아마존 관리키 또는 KMS를 사용하여 생성 및 관리하는 키로 데이터를 암호화하여 저장 데이터 보안을 활성화한다.
        - 인스턴스 시작시 알호화된 데이터 볼륨을 생성하려면 CMK(고객마스터키)를 사용하면 된다.
        - 암호화 되지 않은 AMI에서 암호화된 EBS 인스턴스를 시작가능함
- EFS
    - 파일 스토리지를 간편하게 설정하고 확장하고 비용을 최적화 할수 있도록 지원하는 완전관리형 서비스
    - 스토리지를 프로비저닝할 필요 없이 자동으로 기가바이트를 페타바이트 규모의 데이터로 확장 될 수 있다.
    - 수백, 수천개의 인스턴스에서 도시에 EFS로 액세스 가능, 일관된 성능을 제공.
    - 사용
        - 빅데이터 및 분석, 미디어 처리 워크플로, 콘텐츠 관리, 웹 지원 및 홈 디렉터리
        - 블록 스토리지 단일 EC2인스턴스에서 가장 짧은 지연 시간으로 데이터 액세스해야 할때 사용
    - 종류
        - Standard 및 Infrequent Access 스토리지 클래스를 제공
    - 연결
        - 외부 VPC에서 액세스 하려면 VPC내 EC2인스턴스에서는 파일시스템에 접근이 가능하므로, VPC피어링 연결, VPC 게이트웨이를 통해 VPC내의 인스턴스에 액세스하여 EFS 접그니, 온프레미스 서버는 VPC에 대한 Direct Connect 또는 AWS VPN 연결을 통해 파일 시스템을 탑재
    - 성능
        - 페타바이트 급 규모.
        - EBS의 경우 지연시간이 조금 더 빠르지만 처리량 규모는 초당 여러 GB로 초당 단일 GB인 EBS 보다 좋다.
    - 마이그레이션
        - 온프레미스의 대용량 데이터를 EFS로 옮길떄 Direct Connect를 사용
- Storage Gateway
    - 스토리지 게이트웨이 서비스를 이용하면 온프레미스 환경과 AWS 클라우드 간에 하이브리드 스토리지를 지원 할 수 있다.
    - 서비스 내용
        - AWS 클라우드 스토리지 서비스에 데이터를 안전하고 안정적으로 저장하면서 자주 액세스하는 데이터는 온프레미스에 캐싱하여 지연 시간이 짧은 성능을 제공한다. 
        - 불안정한 네트워크를 허용하고 전송되는 데이터 양을 최소화하는 최적화된 데이터 전송 메커니즘과 대역폭 관리를 제공
    - 종류
        - 파일 게이트웨이 : NFS와 같은 파일 프로토콜을 사용하여 Amazone S3에서 객체를 저장하고 검색. 파일 게이트웨이를 통해 작성된 객체는 S3에서 직접 액세스 할 수 있다.
        - 테이프 게이트웨이 : 가상 미디어 체인저, 가상 테이프 드라이브 및 가상 테이프로 구성된 iSCSI 가상 테이프 라이브러리(VTL) 인터페이스를 백업 애플리케이션에 제공, 가상 데이프 데이터는 S3, Glacier에 아카이브 될 수 있다.
        - 볼륨 게이트웨이 : iSCSI 프로토콜을 사용하여 애플리케이션에 블록 스토리지를 제공. 볼륨의 데이터는 S3에 저장. AWS에서 iSCSI 볼륨에 액세스하려면 EBS 볼륨을 생성하는데 사용될 EBS 스냅샷 만듬. (백업용으로도 사용 가능)
    - 이점 
        - 게이트웨이는 로컬 캐시를 통해 자주 사용하는 데이터에 지연 시간이 짧은 액세스를 제공
    - 암호화
        - SSL 을 이용해 데이터 전송
        - S3에 저장되는 모든 데이터는 S3관리형 SSE-S3로 서버측에서 함호화 (KMS는 선택사항)
    - FAQ(파일게이트웨이)
        - Storage Gateway는 라이팅이 불가능한 Private 네트워크에 배포가능
        단 이경우에는 DX, VPN 을 통해 VPC에 연결되어 있어야 한다. Storage gateway트래픽은 AWS private link를 통해 구동되는 VPC 종단점을 통해 라우팅된다.
        - 파일 게이트웨이가 S3 버킷에 액세스하는 방법: IAM 역할을 사용하여 S3에 접근.
        IAM 역할을 자체적으로 설정하거나 AWS storage gateway관리 콘솔에서 자동으로 설정하도록 할 수 있다. 먼저 IAM 역할을 생성, S3버킷에 액세스할수 있도록 IAM 액세스 정책과 연결.
        - 버킷당 파일공유 수는 제한이 없음
        - 버킷은 단일 라이터가 있는것이 좋다.
        - 게이트웨이당 최대 10개 파일공유를 생성할 수 있다.
        - 개별 파일은 최대 5TB 개별 객체의 최대 크기와 같다.
    - FAQ(볼륨게이트웨이)
        - 게이트웨이당 최대 32개의 볼륨지원. 각 볼륨 크기는 32TB 게이트웨이당 데이터 크기는 최대 1PB.
        - S3에서 내 볼륨 데이터를 볼수없는 이유는 Storage gateway를 통해 I/O 작업을 위해 볼륨에 액세스 할수 있다.
    - PrivateLink
        - PrivateLink를 파일 게이트웨이와 함께 사용하려면 온프레미스 파일 게이트웨이를 PrivateLink 및 프라이빗 가상 인터페이스와 함께 사용하여 S3 버킷에 액세스하려면 EC2기반 프록시 서버를 설정. 그리고 프라이빗 네트워크를 통해 S3에 액세스하려면 S3의 게이트웨이 엔드포인트를 사용. 엔드포인트는 온프레미스 환경에서 직접 액세스 할 수 없고, 프록시 서버가 온프레미스 파일 게이트웨이에 액세스 할 수 있도록 도와줌.
    - 성능 및 모니터링
        - Storage Gateway를 Direct Connect와 함계 사용 가능. 온프레미스 게이트웨이와 AWS간 전용 네트워크 연결을 설정함으로써 처리량을 높이고, 네트워크 비용을 줄임.

# 네트워킹 및 콘텐츠 전송
- VPC
    - AWS에서 논리적으로 격리된 공간을 만들고 가상 네트워크에서 AWS리소스를 시작할 수 있다.
    - 구성 
        - VPC : AWS 내 논리적으로 격리된 가상 네트워크, 선택한 범위에서 VPC의 IP 주소 공간을 정의
        - 서브넷 : 격리된 리소스 그룹을 배치할 수 있는 VPC 한 세그먼트
        - 인터넷 게이트 웨이 : 인터넷에 연결되는 Amazon VPC 측 게이트웨이
        - NAT 게이트웨이 : 프라이빗 서브넷에 있는 리소스가 인터넷에 액세스 할 수 있게 해주는 고가용성 관리형 네트워크 주소 변환 서비스.
        - 가상 프라이빗 게이트웨이 : VPN에 연결되는 Amazon  VPC측 게이트웨이
        - 피어링 연결: 피어링 연결을 사용하여 프라이빗 Ip 주소를 통해 피어링 되는 두 VPC간 트래픽을 라우팅 할 수 있다.
        - VPC 엔드포인트: 인터넷 게이트웨이 VPN, NAT, 디바이스 또는 방화벽 프록시를 사용하지 않고 AWS에서 호스팅되는 서비스에 VPC 내에서부터 비공개로 연결가능
        - 송신 전용 인터넷 게이트웨이: VPC에서 인터넷으로 IPv6 트래픽에 대하여 송신 전용 액세스를 제공하는 상태 저장 게이트웨이
    - __VPC 연결 대상__
        - 인터넷(인터넷 게이트웨이)
        - Site to Site VPN 연결을 사용하여 회사 데이터 센터(가상 프라이빗 게이트웨이)
        - 인터넷과 사용자의 회사 데이터 센터 모두(인터넷, 가상 프라이빗 게이트웨이)
        - 다른 AWS 서비스(인터넷게이트웨이, NAT, 가상 프라이빗 게이트웨이 또는 VPC엔드포인트)
        - 다른 VPC(VPC 피어링)
    - 퍼블릭 IP가 없는 인스턴스가 인터넷에 액세스 하는방법
        - NAT 게이트웨이, NAT 인스턴스를 통해 트래픽을 라우팅하여 인터넷에 액세스, 즉 인터넷을 통과하기위에 위 게이트웨이의 IP 주소를 쓰는것임.
        - VPN연결이 , 직접연결이 지원되는 VPC라면 가상프라이빗게이트웨이의 인터넷 트래픽을 사용자의 기존 데이터센터로 라우팅
    - site-to-site VPN 연결
        - 사용자의 VPC를 데이터 센터에 연결. IPsec으로 연결. 데이터센터간 전송은 암호화하여 VPN연결을 통해 전송. 두 연결 사이 인터넷게이트웨이는 필요 하지 않다.
    - VPC 보안
        - 보안그룹, 각 서브넷에 출입하는 네트워크 트래픽은 네트워크 ACL를 통해 허용하거나 거부할 수있다.
        - 보안그룹 : 인스턴스 사이 어떤 트래픽을 허용할지 지정, 상태 저장(소스,목적지저장)
        - ACL : 서브넷 수준에서 작동, 서브넷에 출입하는 트래픽을 평가. 허용 및 거부 규칙 설정 가능, 동일한 서브넷에 있는 인스턴스 간 트래픽은 필터링 하지 않는다. 상태 비저장(목적지만 검사)
    - 트래픽미러링 vs 흐름로그
        - 흐름 로그를 이용하여 네트워크 흐름 로그 수집, 저장 및 분석 가능. 흐름 로그에 캡처되는 정보에는 허용 및 거부되는 트래픽 원본 및 대상 IP 주소, 포트, 프로토콜 번호, 패킷 및 바이트 수, 작업에 대한 정보 포함
        - 트래픽미러링은 페이로드 같은 실제 트래픽 콘텐츠를 분석하여 네트워크 트래픽을 좀 더 깊이 있게 파악할수 있다. 실제 성능 문제의 근본원인을 파악하거나, 정교한 네트워크 공격을 리버스 엔지니어링 하거나 내부자 침해 또는 손상된 워크로드를 감지 및 차단.
    -  DescribeInstances() 
        - 위 명령을 실하면 모든 실행 중인 EC2 인스턴스를 반환. 서브넷 필드에 있는 항목으로 EC2-VPC 인스턴스와 EC2-Classic 인스턴스를 구별 할 수 있다.
        - 모든 EBS 볼륨 정보 반환
    - VPC 인스턴스 갯수
        - 인스턴스의 갯수는 제한이 없지만, 기본 20개이며 이 이상 필요할시 요청
    - PrivateLink
        - PrivateLink를 사용하려면 사용자는 PrivateLink로 구동되는 서비스를 위해 인터페이스 유형 VPC 엔드포인트를 생성. 이러한 서비스 엔드포인트는 VPC 내 프라이빗 IP가 연결된 ENI로 표시. 이러한 엔드포인트가 생성되면, 이 IP로 향하는 모든 트래픽이 비공개로 해당 AWS 서비스로 라우팅 됨.
        - 서비스 사용자는 서비스 앞단에 Network Load Balancer를 설정하여 AWS privatelink에 서비스를 탑재할수 있으며 NLB Privatelink서비스를 생성하여 NLB에 등록 할 수 있다. 그리고 IAM역할 허용후 VPC내에 엔드포인트를 설정하여 서비스에 연결
    - 생성가능 리소스
        - 리전별로 AWS계정당 5개의 VPC
        - VPC당 200개의 서브넷
        - 리전별로 AWS계정당 5개의 EIP 주소
        - VPC당 하나의 인터넷 게이트웨이

# 데이터베이스
- Aurora
    - 고성능 상용 데이터베이스의 속도와 안정성에 오픈 소스 데이터베이스의 간편성과 비용 효율성이 결합된 관계형 데이터베이스 엔진
    - 데이터 베이스 워크로드 최적화 방법은 mysql 또는 postgresql 역시 동시에 처리하는 워크로드가 많다는 것이기 떄문에 Aurora에서 워크로드 처리량을 극대화 하기위해서는 다수의 동시 쿼리와 트랜잭션을 수행하도록 구성해야한다.
    - 하드웨어 
        - 최소 스토리지는 10G 최대 64G가지 10G 단위로 자동으로 늘어난다. 프로비저닝 할 필요 없음.
        - 데이터 복구는 자동으로 Aurora는 3개의 가용영역에 6개의 데이터 사본을 유지 관리하기 때문에 자동으로 복구한다.
        - 스냅샷은 최대 20개의 AWS계정과 공유할수 있고, 그 이상은 스냅샷을 퍼블릭으로 설정 하거 한도 증가를 요청.
        - 스냅샷은 이를 공유하는 계정과 같은 리전에 있는 계정에서만 액세스 할 수 있다.
        - 암호화된 스냅샷을 공유 할 수 있다.
    - 서버리스
        - Aurora 서버리스는 Aurora의 Mysql, Postgresql 호환 에디션에 대한 온디맨드 Auto Scaling 구성이다.
        - 기존 Aurora와 상호 마이그레이션 가능
    - 병렬 쿼리
        - 스토리지 계층에 있는 수천개의 CPU 전체로 푸시다운하여 분산 할 수 있는 기능. 병렬 쿼리가 없다면  Aurora데이터베이스에 대해 실행된 쿼리가 데이터베이스 클러스터 인스턴스 1개에서 모두 실행 된다.
        - 현재 R*인스턴스 패밀리의 인스턴스에서만 병렬 쿼리를 사용할 수 있다.
- RDS
    - 클라우드에서 관계형 데이터베이스를 쉽게 설치, 운영 및 확장할 수 있는 관리형 서비스.
    - MySQL, MariaDB, Oracle, SQL Server 또는 PostgreSQL 데이터베이스 기능에 액세스
    - 옵션 다중 AZ배포를 사용하면 RDS에서 자동 장애 조치를 통해 가용 영역 전체에서 동기식 데이터 복제를 관리
    - 데이터베이스 인스턴스
        - 컴퓨팅 및 스토리지 리소스를 제공하는 클라우드의 데이터 베이스 환경
        - 최대 40개의 RDS DB 인스턴스를 보유할 수 있다. 이중 최대 10개는 "라이선스 포함 모델에 따른 Oracle, SQL Server DB 인스턴스가 될수 있다.
        - RDS for SQL Server는 단일 DB 인스턴스에서 데이터베이스가 최대 100개로 제한
        - 제한
            - Amazon Aurora용 RDS: 소프트웨어에서 지정한 제한 없음
            - MySQL용 RDS: 소프트웨어에서 지정한 제한 없음
            - MariaDB용 RDS: 소프트웨어에서 지정한 제한 없음
            - Oracle용 RDS: 인스턴스당 데이터베이스 1개, 데이터베이스당 스키마 수에는 소프트웨어에서 지정한 제한 없음
            - RDS for SQL Server: 인스턴스당 데이터베이스 최대 100개 참조 항목: Amazon RDS SQL Server 사용 설명서
            - PostgreSQL용 RDS: 소프트웨어에서 지정한 제한 없음
        - 유지관리 기간은 디폴트 30분이며 DB인스턴스를 다중 AZ배포로 실행하면 유지 관리 이벤트의 영향을 더 줄일 수 있다.
        - 쿼리 튜닝
            - CPU 사용량이 높을때 성능이 저하 될 수 있다. 이러한 경우 인스턴스 클래스를 상향
        - 예약 인스턴스
            -  RDS 예약 인스턴스는 1년 또는 3년 약정으로 DB인스턴스를 예약 할 수 있는 옵션을 제공하므로 온디맨드 인스턴스 요금보다 DB인스턴스의 시간당 요금을 대폭 할인 받을수 있습니다. 
            - 예약 디비 인스턴스는 최대 40개 까지 구매 할 수 있다.
        - 하드웨어
            - DB 인스턴스 가용성을 유지하면서 DB 인스턴스에 할당된 스토리지 용량을 늘릴 수 있다.
        - 백업
            - 기본 백업 기간은 DB 인스턴스를 백업하기 위해 사용자가 지정하는 기안. 백업기간 중에 백업 프로세스가 시작될 때 스토리지 I/O가 일시적으로 중단 될 수 있으며, 일시적으로 지연시간이 증가하는 것을 경험 할 수 있다.
        - 다중 배포
            - 데이터베이스 내구성 및 가용성 향상
            - 백업 및 복구 그리고 관리 자동화
        - 프록시
            - 데이터베이스 연결을 풀링, 공유하여 애플리케이션의 확장성을 개선 할 수 있다.
            - 데이터베이스 장애조치 시간을 66% 줄인다.
            - 데이터 베이스 AWS IAM인증을 필요에 따라 적용하고, AWS Secret Manager에 자격증명을 안전하게 저장하여 애플리케이션 보안을 개선 할 수 있다.
- DynamoDB 
    - 모든 규모에서 빠르고 유연한 비관계형 데이터베이스
    - 지원
        - 사용자가 정의한 기본 키를 사용하여 GET/PUT 작업을 지원한다.
        - DynamoDB는 복합 파티션-정렬 키를 파티션 키 요소 및 정렬 키 요소로 인덱싱한다.

# 분석
-  Amazon Athena
    - 표준 SQL을 이용해 S3에 저장된 데이터를 간편하게 분석 할 수 있는 대화식 쿼리 서비스. 서버리스 서비스이므로 설정하거나 관리할 인프라가 없으며 데이터 분석을 즉시 시작할 수 있다. Athena로 데이터를 로드할 필요없이 S3에 저장된 데이터를 직접 사용하면 된다.
    - 활용
        - QuickSight와 통합하여 쉽게 시각화 할 수 있다.
        - 보고서를 생성하거나 ODBC, JDBC 드라이버를 통해 연결된 비즈니스 인텔리전스 도구나 SQL 클라이언트로 데이터를 탐색 할 수도 있다.
        - Redshift vs Athena
            - Redshift같은 데이터 웨어하우스는 인벤토리 시스템, 금융 시스템, 소매 판매 시스템 등 다양한 소스의 데이터를 하나의 공통 형식으로 취합하여 장기간 보관하고 과거 데이터에서 정교한 비즈니스 보고서를 작성할 필요가 있을떄 사용하는 것이 가장 좋다. 따라서 매우 방대한 양의 테이블에서 수많은 조인을 사용하여 고도의 정형 데이터에 대한 쿼리를 실행해야 할 때는 Redshift를 사용.
# AWS Lambda@Edge
 - Cloud Front용 Lambda를 Lambda@Edge라고 한다.



# AWS STS
   - AWS STS(AWS Security Token Service)를 사용하여 AWS 서비스에 액세스하는 데 사용할 수 있는 권한이 제한된 임시 자격 증명을 가져올 수 있습니다.

# AWS OpsWorks
   - AWS OpsWorks는 Puppet 또는 Chef를 사용하여 클라우드 엔터프라이즈에서 애플리케이션을 구성하고 운영하도록 지원하는 구성 관리 서비스


# VPC tenancy
- VPC에서 실행하는 각 인스턴스는 테넌시 속성으로 실행
   - default 인스턴스가 공유된 하드웨어에서 실행됩니다.
   - dedicated 인스턴스가 단일 테넌트 하드웨어에서 실행됩니다.
   - host 인스턴스는 구성을 제어할 수 있는 격리된 서버인 전용 호스트에서 실행됩니다.

# Amazon DynamoDB Accelerator(DAX)
- DynamoDB용 완전관리형 인 메모리 캐시.
- __DynamoDB 응답 시간을 밀리초에서 마이크로초로 단축.__


# AWS CloudHSM
 - AWS CloudHSM은 AWS 클라우드에서 자체 암호화 키를 손쉽게 생성 및 사용할 수 있도록 지원하는 클라우드 기반 하드웨어 보안 모듈(HSM)입니
 


# EBS 볼륨 암호화 방법
- 데이터 저장전 어플리케이션에서 암호화
- 서드파티 볼륨 암호화 툴 이용
- native 암호화 툴 이용 (OS)
- 참고 SSL은 데이터를 전송할때 암호화 하는 것.

# SQS timeout ?
- 12 hour

# SQS 큐에서 메시지를 받을 수 있는 시간
- 14days

# 내구성 99.999999999% 인 S3 유형?
- Reduced Redundancy Storage 만 유일하게 아니다.

# SQS FIFO
- SQS는 무조건 한번은 메기지를 실행한다.
- FIFO는 디폴트로 제공되지 않는다.

# DynomoDB HTTP header 필요한 정보
- x-amz-date
- content-type
- x-amz-target
- host

# Amazone Athena 지원 파일 형식
- JSON, Parquet, ORC


# Placement Group 
- Placement Group 은 AZ당 오직 7개의 인스턴스만 가질수 있다.

# EC2 Key Pairs, Security Groups, ELB 는 Region별로 유일하다.


# 암호화된 EBS 스냅샷
- 암호화되어있지 않은 EBS 볼륨에서 암호화된 볼륨을 snapshot하거나 암호화된 볼륨을 unencruption할수 없다.

# 장애허용


# Storage gateway
- EFS is a mountable file storage for EC2
- Storage gateway is primarily used for attaching infrastructure located in a Data center or office to the AWS Storage infastructure


# Custom VPC 생성시 자동 생성되는 것
- default Security Group
- Access contol list
- Route table

# Elasticache 제공 서비스
- pub/sub, sorted sets, in memory data store.
- 하지만 Elasticahe는 key value 저장소이므로 관계형 데이터를 저장할 순 없다.

# 네트워크 트래픽을 고려할 때
- 저장 트래픽과 일반적인 네트워크 트래픽을 분리하여 생각.

# CloudFormation 템플릿 형식
- JSON, YAML

# Proactive Cyclic Scaling 
-a utomatically start up and shutdown vms during peak periods, e.g. 9am-5pm mon-fri.

# AMI copy를 했을때 새로운 인스턴스에 복사해야하는 것
- Launch permissions, User-defined tag, S3 bucket permissions
- User data는 AMI에 포함되어있어 따로 복사 안해도 된다.


# VPN 커넥션을 AWS와 할때 필요한 것
- Customer Gateway , Virtual Private Gateway


# Spread Placement Groups
- 작은 수의 중요 인스턴스가 여러 AZ에 분산되어 관리가 되어야 할때 Spread Placement Groups은
여러 가지 정보를 관리 보호함.
 

 # stateless, stateful

 # Lambda 빌링 시스템
 - MB or RAM  , execution duration in 100 ms

 # VPC Flow logs 생성 타겟 계층
 - VPC, subnet, network interface levels

 # Docker가 실행 될 수 있는 AWS 서비스
 - EC2, Elastic Beanstalk, Fargate

 # 인스턴스의 정보 / 추가되거나 auto scailing 된것 들을 확인하고 싶을떄
 - Using a Curl or get command to get the latest meta-data from http://111.111.111.111/latest/meta-data

 # site-to-site VPN 연결을 위한 서비스
 - A private subnet in your VPC
 - A VPC with hardware VPN access
 - An on premis customer gateway
 - A virtual private gateway


 # Route53 alase, cname 차이


 # Lambda 다이렉트 서비스
 - API gateway
 - Elastic load balancer
 - Kinesis data firehouse

 # Gateway-Cached, File Gateway
 - Cached 볼륨은 중요 저장소에 들어가는 비용을 줄이고, 저장소의 사이즈를 최소화한다.


 # Cloudwatch 로그 디폴트 옵션값
 - 매 5분, 수정하면 1분까지


